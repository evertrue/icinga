host_groups += [
    # Chef Roles
<% @roles.each do |tmp|
  role = tmp.to_s.match('role\[(.*)\]')[1]
-%>
    ( 'role: <%= role %>', [ '<%= role %>' ], ALL_HOSTS ),
<% end -%>

    # Chef Environments
<% @environments.each do |tmp| -%>
    ( 'environment: <%= tmp %>', [ '<%= tmp %>' ], ALL_HOSTS ),
<% end -%>

    # Chef tags attached to machines
<% @tags.each do |tmp| -%>
    ( 'tag: <%= tmp %>', [ '<%= tmp %>' ], ALL_HOSTS ),
<% end -%>
]